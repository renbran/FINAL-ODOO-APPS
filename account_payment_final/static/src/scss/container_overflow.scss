/* Payment Voucher Container Overflow Fix */
/* Add this to your main SCSS file or create as separate file */

/* ============================================================================ */
/* CONTAINER OVERFLOW FIXES */
/* ============================================================================ */

/* Ensure the main container never gets cut off */
.o_payment_voucher_container {
    /* Remove any fixed heights that cause cut-off */
    min-height: auto !important;
    height: auto !important;
    max-height: none !important;
    
    /* Ensure proper box model */
    box-sizing: border-box !important;
    
    /* Prevent overflow clipping */
    overflow: visible !important;
    
    /* Proper spacing for screen display */
    margin: 0 auto !important;
    padding: 20px !important;
    
    /* Responsive width with max constraint */
    width: 100% !important;
    max-width: 800px !important; /* Reasonable max width */
    
    /* Flexible layout */
    display: flex !important;
    flex-direction: column !important;
    flex-shrink: 0 !important;
}

/* Fix for parent containers that might clip content */
.o_payment_voucher_wrapper,
.o_form_sheet,
.o_form_view {
    overflow: visible !important;
    min-height: auto !important;
    height: auto !important;
}

/* Ensure all child elements fit properly */
.o_payment_voucher_container > * {
    flex-shrink: 0;
    overflow: visible;
    word-wrap: break-word;
}

/* Fix table overflow issues */
.o_payment_voucher_container .o_payment_voucher_table {
    width: 100%;
    table-layout: auto;
    overflow: visible;
}

.o_payment_voucher_container .o_payment_voucher_table th,
.o_payment_voucher_container .o_payment_voucher_table td {
    word-wrap: break-word;
    overflow-wrap: break-word;
    white-space: normal;
}

/* Fix signature box layout */
.o_payment_voucher_signatures {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 10px;
}

.o_payment_voucher_signature_box {
    flex: 1 1 calc(33.333% - 10px);
    min-width: 150px;
    max-width: 250px;
}

/* ============================================================================ */
/* RESPONSIVE CONTAINER FIXES */
/* ============================================================================ */

/* Mobile fixes */
@media (max-width: 768px) {
    .o_payment_voucher_container {
        padding: 15px !important;
        margin: 0 !important;
        max-width: 100% !important;
    }
    
    .o_payment_voucher_signature_box {
        flex: 1 1 100%;
        max-width: none;
    }
    
    .o_payment_voucher_header {
        flex-direction: column;
        align-items: center;
    }
    
    .o_payment_voucher_header_left,
    .o_payment_voucher_header_right {
        width: 100%;
        text-align: center;
        margin-bottom: 10px;
    }
}

/* Tablet fixes */
@media (max-width: 992px) and (min-width: 769px) {
    .o_payment_voucher_container {
        max-width: 95% !important;
        padding: 18px !important;
    }
    
    .o_payment_voucher_signature_box {
        flex: 1 1 calc(50% - 10px);
    }
}

/* ============================================================================ */
/* PRINT CONTAINER FIXES */
/* ============================================================================ */

@media print {
    /* Reset all container constraints for printing */
    .o_payment_voucher_container {
        width: 100% !important;
        max-width: none !important;
        min-width: auto !important;
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        
        /* Remove screen-specific spacing */
        margin: 0 !important;
        padding: 0 !important;
        
        /* Ensure content fits on page */
        page-break-inside: avoid;
        break-inside: avoid;
        
        /* Remove any transforms or positioning */
        transform: none !important;
        position: static !important;
        
        /* Remove box shadows and backgrounds that might cause issues */
        box-shadow: none !important;
        border: none !important;
    }
    
    /* Ensure child elements don't cause overflow */
    .o_payment_voucher_container * {
        max-width: 100% !important;
        overflow: visible !important;
        page-break-inside: avoid;
    }
    
    /* Fix signature layout for print */
    .o_payment_voucher_signatures {
        display: flex !important;
        flex-wrap: nowrap !important;
        justify-content: space-between !important;
        gap: 5mm !important;
    }
    
    .o_payment_voucher_signature_box {
        flex: 1 !important;
        min-width: auto !important;
        max-width: none !important;
    }
}

/* ============================================================================ */
/* BROWSER-SPECIFIC FIXES */
/* ============================================================================ */

/* Chrome/Safari specific fixes */
@supports (-webkit-appearance: none) {
    .o_payment_voucher_container {
        -webkit-transform: translateZ(0); /* Force hardware acceleration */
    }
}

/* Firefox specific fixes */
@-moz-document url-prefix() {
    .o_payment_voucher_container {
        display: block; /* Fallback for older Firefox flex issues */
    }
    
    .o_payment_voucher_container > * {
        display: block;
        width: 100%;
    }
}

/* Edge specific fixes */
@supports (-ms-ime-align: auto) {
    .o_payment_voucher_container {
        display: block;
        width: 100%;
    }
}

/* ============================================================================ */
/* DEBUGGING HELPERS (Remove in production) */
/* ============================================================================ */

/* Uncomment for debugging container issues */
/*
.o_payment_voucher_container {
    border: 2px solid red !important;
    background: rgba(255, 0, 0, 0.1) !important;
}

.o_payment_voucher_container > * {
    border: 1px solid blue !important;
    background: rgba(0, 0, 255, 0.05) !important;
}
*/