// =================================================================
// EMERGENCY TABLE ENHANCEMENTS - HARDCODED VALUES
// =================================================================
// This file uses hardcoded values to eliminate SCSS compilation issues
// No variables dependencies - CloudPepper safe

// =================================================================
// GENERAL TABLE IMPROVEMENTS
// =================================================================

.o_list_view {
    // Better table spacing and readability
    .o_list_table {
        border-collapse: separate;
        border-spacing: 0;
        width: 100%;
        
        // Header improvements
        thead {
            th {
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                color: #1e293b;
                font-weight: 600;
                font-size: 13px;
                padding: 18px 14px;
                border-bottom: 2px solid #e2e8f0;
                text-align: left;
                white-space: nowrap;
                position: relative;
                
                // Sort indicators
                &.o_column_sortable {
                    cursor: pointer;
                    
                    &:hover {
                        background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
                    }
                }
                
                // First and last header styling
                &:first-child {
                    border-top-left-radius: 8px;
                    padding-left: 18px;
                }
                
                &:last-child {
                    border-top-right-radius: 8px;
                    padding-right: 18px;
                }
            }
        }
        
        // Body row improvements
        tbody {
            tr {
                transition: background-color 0.15s ease;
                
                &:hover {
                    background-color: rgba(59, 130, 246, 0.05);
                }
                
                &:nth-child(even) {
                    background-color: rgba(248, 250, 252, 0.5);
                }
                
                // Data cells
                td {
                    padding: 16px 14px;
                    border-bottom: 1px solid #f1f5f9;
                    vertical-align: middle;
                    
                    &:first-child {
                        padding-left: 18px;
                    }
                    
                    &:last-child {
                        padding-right: 18px;
                    }
                    
                    // Field widgets in table cells
                    .o_field_widget {
                        margin: 0;
                        
                        // Input fields in tables
                        input {
                            min-height: 36px;
                            padding: 8px 12px;
                            border: 1.5px solid #e2e8f0;
                            border-radius: 6px;
                            font-size: 13px;
                            width: 100%;
                            background-color: #ffffff;
                            transition: all 0.2s ease;
                            
                            &:focus {
                                border-color: #1f4788;
                                box-shadow: 0 0 0 2px rgba(31, 71, 136, 0.1);
                                outline: none;
                            }
                            
                            &:hover:not(:focus) {
                                border-color: #94a3b8;
                            }
                        }
                        
                        // Textarea in tables
                        textarea {
                            min-height: 36px;
                            padding: 8px 12px;
                            border: 1.5px solid #e2e8f0;
                            border-radius: 6px;
                            font-size: 13px;
                            width: 100%;
                            resize: vertical;
                            
                            &:focus {
                                border-color: #1f4788;
                                box-shadow: 0 0 0 2px rgba(31, 71, 136, 0.1);
                            }
                        }
                        
                        // Select dropdowns in tables
                        select {
                            min-height: 36px;
                            padding: 8px 12px;
                            border: 1.5px solid #e2e8f0;
                            border-radius: 6px;
                            font-size: 13px;
                            width: 100%;
                            background-color: #ffffff;
                            
                            &:focus {
                                border-color: #1f4788;
                                box-shadow: 0 0 0 2px rgba(31, 71, 136, 0.1);
                            }
                        }
                    }
                }
            }
        }
    }
}

// =================================================================
// INVOICE LINES SPECIFIC IMPROVEMENTS
// =================================================================

.o_field_one2many,
.o_field_many2many {
    // Container styling
    margin: 24px 0;
    
    .o_list_view {
        border: 1px solid #e2e8f0;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        
        // Special styling for invoice lines
        &.o_list_editable {
            .o_list_table {
                tbody tr.o_data_row {
                    &.o_selected_row {
                        background-color: rgba(31, 71, 136, 0.08);
                        
                        td {
                            border-color: rgba(31, 71, 136, 0.2);
                        }
                    }
                    
                    // Editable cell styling
                    td.o_data_cell {
                        position: relative;
                        
                        &.o_field_cell.o_list_char,
                        &.o_field_cell.o_list_many2one {
                            min-width: 180px;
                            
                            input {
                                min-width: 160px;
                            }
                        }
                        
                        &.o_field_cell.o_list_text {
                            min-width: 150px;
                            
                            textarea {
                                min-width: 130px;
                                min-height: 60px;
                            }
                        }
                        
                        &.o_field_cell.o_list_number,
                        &.o_field_cell.o_list_float,
                        &.o_field_cell.o_list_monetary {
                            min-width: 120px;
                            text-align: right;
                            
                            input {
                                text-align: right;
                                min-width: 100px;
                            }
                        }
                        
                        // Quantity field
                        &[data-field="quantity"] {
                            min-width: 100px;
                            
                            input {
                                text-align: center;
                            }
                        }
                        
                        // Price fields
                        &[data-field="price_unit"],
                        &[data-field="price_subtotal"],
                        &[data-field="price_total"] {
                            min-width: 130px;
                            
                            input {
                                font-weight: 500;
                            }
                        }
                    }
                }
            }
        }
        
        // Add line button styling
        .o_field_x2many_list_row_add {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-top: 1px solid #e2e8f0;
            padding: 16px 18px;
            
            a {
                color: #1f4788;
                font-weight: 600;
                text-decoration: none;
                padding: 10px 18px;
                border-radius: 8px;
                display: inline-flex;
                align-items: center;
                transition: all 0.2s ease;
                background-color: rgba(31, 71, 136, 0.05);
                border: 1px solid rgba(31, 71, 136, 0.2);
                
                &:hover {
                    background-color: rgba(31, 71, 136, 0.1);
                    border-color: rgba(31, 71, 136, 0.3);
                    transform: translateY(-1px);
                    box-shadow: 0 2px 4px rgba(31, 71, 136, 0.2);
                }
                
                i {
                    margin-right: 8px;
                    font-size: 14px;
                }
            }
        }
    }
}

// =================================================================
// FORM VIEW TABLE IMPROVEMENTS
// =================================================================

.o_form_view {
    .o_field_one2many,
    .o_field_many2many {
        .o_list_view {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            margin: 16px 0;
            
            .o_list_table {
                margin: 0;
                
                thead th {
                    background-color: #f8fafc;
                    font-weight: 600;
                    color: #374151;
                    font-size: 13px;
                    padding: 16px 12px;
                    border-bottom: 2px solid #e5e7eb;
                    text-align: left;
                    
                    &:first-child {
                        border-radius: 8px 0 0 0;
                    }
                    
                    &:last-child {
                        border-radius: 0 8px 0 0;
                    }
                }
                
                tbody tr {
                    &:hover {
                        background-color: #f8fafc;
                    }
                    
                    &.o_data_row {
                        border-bottom: 1px solid #f3f4f6;
                        
                        &:last-child {
                            border-bottom: none;
                        }
                    }
                    
                    td {
                        padding: 14px 12px;
                        vertical-align: middle;
                        border-right: 1px solid #f3f4f6;
                        
                        &:last-child {
                            border-right: none;
                        }
                        
                        .o_field_widget {
                            margin: 0;
                            
                            input,
                            textarea,
                            select {
                                min-height: 38px;
                                padding: 8px 12px;
                                border: 1px solid #d1d5db;
                                border-radius: 6px;
                                font-size: 13px;
                                width: 100%;
                                
                                &:focus {
                                    border-color: #1f4788;
                                    box-shadow: 0 0 0 2px rgba(31, 71, 136, 0.1);
                                }
                            }
                            
                            // Specific column width improvements
                            &.o_field_char,
                            &.o_field_many2one {
                                input {
                                    min-width: 150px;
                                }
                            }
                            
                            &.o_field_text textarea {
                                min-width: 120px;
                                resize: vertical;
                            }
                            
                            &.o_field_float,
                            &.o_field_monetary {
                                input {
                                    text-align: right;
                                    min-width: 100px;
                                }
                            }
                        }
                    }
                }
            }
            
            // Add line button improvements
            .o_field_x2many_list_row_add {
                padding: 12px;
                border-top: 1px solid #e5e7eb;
                background-color: #f8fafc;
                
                a {
                    color: #1f4788;
                    font-weight: 500;
                    text-decoration: none;
                    padding: 8px 16px;
                    border-radius: 6px;
                    transition: all 0.2s ease;
                    
                    &:hover {
                        background-color: rgba(31, 71, 136, 0.1);
                        color: #1a3d6b;
                    }
                    
                    i {
                        margin-right: 6px;
                    }
                }
            }
        }
    }
}

// =================================================================
// RESPONSIVE TABLE IMPROVEMENTS
// =================================================================

@media (max-width: 768px) {
    .o_list_view .o_list_table {
        thead th,
        tbody td {
            padding: 12px 8px;
            font-size: 12px;
        }
        
        tbody td .o_field_widget {
            input,
            textarea,
            select {
                min-height: 32px;
                padding: 6px 8px;
                font-size: 12px;
            }
        }
    }
    
    .o_field_one2many,
    .o_field_many2many {
        .o_list_view .o_field_x2many_list_row_add {
            padding: 12px;
            
            a {
                padding: 8px 12px;
                font-size: 13px;
            }
        }
    }
}

// =================================================================
// ACCESSIBILITY IMPROVEMENTS
// =================================================================

.o_list_view {
    .o_list_table {
        // Focus management
        tbody tr:focus-within {
            outline: 2px solid #1f4788;
            outline-offset: -2px;
        }
        
        // Screen reader improvements
        thead th {
            &[aria-sort] {
                &::after {
                    content: '';
                    margin-left: 8px;
                    display: inline-block;
                    width: 0;
                    height: 0;
                }
                
                &[aria-sort="ascending"]::after {
                    border-left: 4px solid transparent;
                    border-right: 4px solid transparent;
                    border-bottom: 6px solid currentColor;
                }
                
                &[aria-sort="descending"]::after {
                    border-left: 4px solid transparent;
                    border-right: 4px solid transparent;
                    border-top: 6px solid currentColor;
                }
            }
        }
    }
}
