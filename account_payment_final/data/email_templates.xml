<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Payment Submitted Email Template -->
        <record id="email_template_payment_submitted" model="mail.template">
            <field name="name">Payment Voucher Submitted</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Submitted for Review</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="email_to">${(ctx.get('custom_recipient') or object.reviewed_by.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear ${object.reviewed_by.name or 'Reviewer'},</p>
    
    <p>A payment voucher has been submitted for your review:</p>
    
    <table border="1" style="border-collapse: collapse; width: 100%; margin: 10px 0;">
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Voucher Number:</strong></td>
            <td style="padding: 8px;">${object.voucher_number}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Type:</strong></td>
            <td style="padding: 8px;">${'Receipt' if object.payment_type == 'inbound' else 'Payment'}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Partner:</strong></td>
            <td style="padding: 8px;">${object.partner_id.name}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Amount:</strong></td>
            <td style="padding: 8px;">${object.currency_id.symbol} ${'{:,.2f}'.format(object.amount)}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Date:</strong></td>
            <td style="padding: 8px;">${object.date}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Submitted By:</strong></td>
            <td style="padding: 8px;">${object.submitted_by.name}</td>
        </tr>
    </table>
    
    % if object.remarks:
    <p><strong>Remarks:</strong><br/>${object.remarks}</p>
    % endif
    
    <p>Please review and take appropriate action.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            Review Voucher
        </a>
    </p>
    
    <p>Best regards,<br/>
    ${object.company_id.name}</p>
</div>
            </field>
        </record>

        <!-- Payment Reviewed Email Template -->
        <record id="email_template_payment_reviewed" model="mail.template">
            <field name="name">Payment Voucher Reviewed</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Reviewed</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Payment Voucher ${object.voucher_number} has been reviewed by ${object.reviewed_by.name}.</p>
    
    % if object.payment_type == 'outbound':
    <p>The voucher is now pending approval.</p>
    % else:
    <p>The voucher is approved and ready for posting.</p>
    % endif
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Voucher
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Payment Approved Email Template -->
        <record id="email_template_payment_approved" model="mail.template">
            <field name="name">Payment Voucher Approved</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Approved</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Payment Voucher ${object.voucher_number} has been approved by ${object.approved_by.name}.</p>
    
    <p>The voucher is now pending final authorization.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Voucher
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Payment Authorized Email Template -->
        <record id="email_template_payment_authorized" model="mail.template">
            <field name="name">Payment Voucher Authorized</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Authorized</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Payment Voucher ${object.voucher_number} has been authorized by ${object.authorized_by.name}.</p>
    
    <p>The voucher is now ready for posting to the ledger.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Voucher
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Payment Posted Email Template -->
        <record id="email_template_payment_posted" model="mail.template">
            <field name="name">Payment Voucher Posted</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Posted</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Payment Voucher ${object.voucher_number} has been successfully posted to the ledger.</p>
    
    <p><strong>Details:</strong></p>
    <ul>
        <li>Amount: ${object.currency_id.symbol} ${'{:,.2f}'.format(object.amount)}</li>
        <li>Partner: ${object.partner_id.name}</li>
        <li>Posted by: ${object.posted_by.name}</li>
        <li>Posted date: ${object.posted_date}</li>
    </ul>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Voucher
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Payment Rejected Email Template -->
        <record id="email_template_payment_rejected" model="mail.template">
            <field name="name">Payment Voucher Rejected</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="subject">Payment Voucher ${object.voucher_number} Rejected</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Payment Voucher ${object.voucher_number} has been rejected and returned to draft state.</p>
    
    <p>Please review and make necessary corrections before resubmitting.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.payment" 
           style="background-color: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Voucher
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Invoice Submitted Email Template -->
        <record id="email_template_invoice_submitted" model="mail.template">
            <field name="name">Invoice/Bill Submitted</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="subject">${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} Submitted for Review</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>Dear Reviewer,</p>
    
    <p>A ${'invoice' if object.move_type.startswith('out_') else 'bill'} has been submitted for your review:</p>
    
    <table border="1" style="border-collapse: collapse; width: 100%; margin: 10px 0;">
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Document:</strong></td>
            <td style="padding: 8px;">${object.name}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Partner:</strong></td>
            <td style="padding: 8px;">${object.partner_id.name}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Amount:</strong></td>
            <td style="padding: 8px;">${object.currency_id.symbol} ${'{:,.2f}'.format(object.amount_total)}</td>
        </tr>
        <tr>
            <td style="padding: 8px; background-color: #f5f5f5;"><strong>Date:</strong></td>
            <td style="padding: 8px;">${object.invoice_date}</td>
        </tr>
    </table>
    
    % if object.approval_remarks:
    <p><strong>Remarks:</strong><br/>${object.approval_remarks}</p>
    % endif
    
    <p>Please review and take appropriate action.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.move" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            Review Document
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Invoice Reviewed Email Template -->
        <record id="email_template_invoice_reviewed" model="mail.template">
            <field name="name">Invoice/Bill Reviewed</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="subject">${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} Reviewed</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} has been reviewed by ${object.reviewer_id.name}.</p>
    
    <p>The document is now pending final approval.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.move" 
           style="background-color: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Document
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Invoice Approved Email Template -->
        <record id="email_template_invoice_approved" model="mail.template">
            <field name="name">Invoice/Bill Approved</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="subject">${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} Approved</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} has been approved by ${object.approver_id.name}.</p>
    
    % if object.state == 'posted':
    <p>The document has been automatically posted to the ledger.</p>
    % else:
    <p>The document is ready for manual posting.</p>
    % endif
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.move" 
           style="background-color: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Document
        </a>
    </p>
</div>
            </field>
        </record>

        <!-- Invoice Rejected Email Template -->
        <record id="email_template_invoice_rejected" model="mail.template">
            <field name="name">Invoice/Bill Rejected</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="subject">${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} Rejected</field>
            <field name="email_from">${(object.company_id.email or '')|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p>${'Invoice' if object.move_type.startswith('out_') else 'Bill'} ${object.name} has been rejected and returned to draft state.</p>
    
    <p>Please review and make necessary corrections before resubmitting.</p>
    
    <p>
        <a href="${ctx.get('base_url', '')}/web#id=${object.id}&amp;view_type=form&amp;model=account.move" 
           style="background-color: #dc3545; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
            View Document
        </a>
    </p>
</div>
            </field>
        </record>

    </data>
</odoo>