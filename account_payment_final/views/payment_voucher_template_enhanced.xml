<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Enhanced Professional Payment Voucher Template -->
        <template id="payment_voucher_enhanced" name="Enhanced Professional Payment Voucher">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.external_layout">
                        <div class="page">
                            <style>
                                @page {
                                    margin: 15mm;
                                    size: A4;
                                }
                                
                                .voucher-container {
                                    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Arial, sans-serif;
                                    background: white;
                                    font-size: 16px;
                                    line-height: 1.2;
                                    margin: 0;
                                    padding: 0;
                                    color: #333;
                                }
                                
                                .voucher-header {
                                    background: linear-gradient(135deg, #1f4788, #2563eb);
                                    color: white;
                                    padding: 15px;
                                    margin: -10px -10px 15px -10px;
                                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                                }
                                
                                .voucher-title {
                                    text-align: center;
                                    font-size: 28px;
                                    font-weight: 700;
                                    letter-spacing: 1px;
                                    margin: 0;
                                    text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
                                    text-transform: uppercase;
                                }
                                
                                .voucher-subtitle {
                                    text-align: center;
                                    font-size: 15px;
                                    margin: 8px 0 0 0;
                                    font-weight: 500;
                                }
                                
                                .field-section {
                                    margin-bottom: 10px;
                                }
                                
                                .field-label {
                                    color: #1f4788;
                                    font-weight: 600;
                                    font-size: 16px;
                                    margin-bottom: 5px;
                                    text-transform: uppercase;
                                    letter-spacing: 0.3px;
                                }
                                
                                .field-value {
                                    border-bottom: 1px solid #333;
                                    padding: 5px;
                                    margin-bottom: 10px;
                                    min-height: 18px;
                                    color: #000;
                                    font-weight: 500;
                                    font-size: 15px;
                                }
                                
                                .amount-section {
                                    background: linear-gradient(135deg, #1f4788, #2563eb);
                                    color: white;
                                    padding: 12px;
                                    text-align: center;
                                    margin: 10px 0;
                                    font-size: 18px;
                                    font-weight: 700;
                                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                                    border-radius: 4px;
                                }
                                
                                .three-column-layout {
                                    display: grid;
                                    grid-template-columns: 35% 35% 30%;
                                    gap: 15px;
                                    margin-bottom: 15px;
                                }
                                
                                .column-section {
                                    padding: 10px;
                                    background: #f8f9fa;
                                    border: 1px solid #dee2e6;
                                    border-radius: 4px;
                                }
                                
                                .column-title {
                                    background: #1f4788;
                                    color: white;
                                    padding: 8px;
                                    margin: -10px -10px 10px -10px;
                                    font-size: 14px;
                                    font-weight: 600;
                                    text-align: center;
                                    text-transform: uppercase;
                                    letter-spacing: 0.5px;
                                }
                                
                                .signature-grid {
                                    display: grid;
                                    grid-template-columns: 1fr 1fr;
                                    gap: 15px;
                                    margin-top: 20px;
                                    margin-bottom: 15px;
                                }
                                
                                .signature-box-compact {
                                    border: 1px solid #333;
                                    padding: 8px;
                                    height: 80px;
                                    background: #f8f9fa;
                                    position: relative;
                                }
                                
                                .signature-name {
                                    font-size: 12px;
                                    font-weight: 600;
                                    color: #1f4788;
                                    margin-bottom: 3px;
                                    height: 15px;
                                }
                                
                                .signature-line {
                                    border-bottom: 1px solid #333;
                                    height: 25px;
                                    margin-bottom: 5px;
                                    display: flex;
                                    align-items: flex-end;
                                    justify-content: center;
                                }
                                
                                .signature-date {
                                    font-size: 11px;
                                    color: #666;
                                    height: 15px;
                                    border-bottom: 1px solid #ccc;
                                    text-align: center;
                                    padding-top: 2px;
                                }
                                
                                .signature-title {
                                    position: absolute;
                                    bottom: 3px;
                                    left: 50%;
                                    transform: translateX(-50%);
                                    font-size: 12px;
                                    font-weight: 600;
                                    color: #1f4788;
                                    text-transform: uppercase;
                                }
                                
                                .signature-initials {
                                    font-size: 14px;
                                    font-weight: bold;
                                    color: #1f4788;
                                    font-style: italic;
                                }
                                
                                .document-table {
                                    width: 100%;
                                    border-collapse: collapse;
                                    margin: 10px 0;
                                    font-size: 14px;
                                }
                                
                                .document-table th {
                                    background: #1f4788;
                                    color: white;
                                    padding: 8px;
                                    font-weight: 600;
                                    border: 1px solid #333;
                                    font-size: 13px;
                                }
                                
                                .document-table td {
                                    padding: 6px 8px;
                                    border: 1px solid #333;
                                    font-size: 13px;
                                }
                                
                                .footer-note {
                                    background: linear-gradient(135deg, #1f4788, #2563eb);
                                    color: white;
                                    text-align: center;
                                    padding: 8px;
                                    font-size: 12px;
                                    margin: 10px 0 0 0;
                                    border-radius: 4px;
                                }
                                
                                .creator-info {
                                    font-size: 11px;
                                    color: #666;
                                    margin-top: 5px;
                                    text-align: right;
                                }
                                
                                .qr-code-container {
                                    text-align: center;
                                    padding: 5px;
                                }
                                
                                .qr-code-box {
                                    background: white;
                                    padding: 4px;
                                    border-radius: 4px;
                                    display: inline-block;
                                    border: 1px solid #333;
                                }
                                
                                .combined-field {
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    border-bottom: 1px solid #333;
                                    padding: 5px;
                                    margin-bottom: 10px;
                                    min-height: 18px;
                                }
                                
                                .amount-words {
                                    background: #fff3cd;
                                    border: 1px solid #ffc107;
                                    padding: 8px;
                                    margin: 10px 0;
                                    border-radius: 4px;
                                    font-style: italic;
                                    font-size: 15px;
                                    color: #856404;
                                }
                                
                                @media print {
                                    .page {
                                        margin: 0;
                                        padding: 0;
                                    }
                                    .voucher-container {
                                        margin: 0;
                                        padding: 0;
                                    }
                                    .voucher-header {
                                        margin: 0 0 15px 0;
                                    }
                                }
                                
                                /* Responsive adjustments for smaller content */
                                @media (max-width: 800px) {
                                    .three-column-layout {
                                        grid-template-columns: 1fr;
                                        gap: 10px;
                                    }
                                    .signature-grid {
                                        grid-template-columns: 1fr;
                                        gap: 10px;
                                    }
                                }
                            </style>

                            <div class="voucher-container">
                                <!-- Header Section -->
                                <div class="voucher-header">
                                    <div style="display: flex; align-items: center; justify-content: space-between;">
                                        <div style="flex: 0 0 60px;">
                                            <div class="qr-code-container">
                                                <div class="qr-code-box">
                                                    <t t-if="o.qr_code">
                                                        <img t-att-src="'data:image/png;base64,' + o.qr_code.decode('utf-8')" style="width: 60px; height: 60px;"/>
                                                    </t>
                                                    <t t-else="">
                                                        <div style="width: 60px; height: 60px; background: white; border: 1px solid #333; position: relative;">
                                                            <div style="position: absolute; top: 2px; left: 2px; width: 12px; height: 12px; background: #000;"></div>
                                                            <div style="position: absolute; top: 2px; right: 2px; width: 12px; height: 12px; background: #000;"></div>
                                                            <div style="position: absolute; bottom: 2px; left: 2px; width: 12px; height: 12px; background: #000;"></div>
                                                            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 10px; height: 10px; background: #000;"></div>
                                                        </div>
                                                    </t>
                                                </div>
                                                <div style="font-size: 8px; margin-top: 2px; color: white;">Verify</div>
                                            </div>
                                        </div>
                                        <div style="flex: 1; text-align: center;">
                                            <h1 class="voucher-title">
                                                <t t-if="o.payment_type == 'inbound'">Payment Receipt</t>
                                                <t t-else="">Payment Voucher</t>
                                            </h1>
                                            <div class="voucher-subtitle">
                                                <strong>Ref: <span t-field="o.name"/>
 | Date: <span t-field="o.date"/>
                                            </strong>
                                        </div>
                                    </div>
                                    <div style="flex: 0 0 100px; text-align: right; font-size: 11px;">
                                        <div>
                                            <strong>
                                                <span t-field="o.company_id.name"/>
                                            </strong>
                                        </div>
                                        <div t-field="o.company_id.city" t-if="o.company_id.city"/>
                                        <div t-field="o.company_id.phone" t-if="o.company_id.phone"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Three-Column Layout -->
                            <div class="three-column-layout">
                                <!-- Column 1: Issued To Details -->
                                <div class="column-section">
                                    <div class="column-title">
                                        <t t-if="o.payment_type == 'outbound'">Pay To Details</t>
                                        <t t-else="">Received From</t>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Name:</div>
                                        <div class="field-value">
                                            <span t-field="o.partner_id.name"/>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Contact:</div>
                                        <div class="combined-field">
                                            <span>
                                                <span t-field="o.partner_id.mobile" t-if="o.partner_id.mobile"/>
                                                <span t-field="o.partner_id.phone" t-if="not o.partner_id.mobile and o.partner_id.phone"/>
                                                <span t-if="not o.partner_id.mobile and not o.partner_id.phone">N/A</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Email:</div>
                                        <div class="field-value" style="font-size: 13px;">
                                            <span t-field="o.partner_id.email" t-if="o.partner_id.email"/>
                                            <span t-if="not o.partner_id.email">N/A</span>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Method:</div>
                                        <div class="field-value">
                                            <span t-field="o.journal_id.name"/>
                                        </div>
                                    </div>
                                </div>

                                <!-- Column 2: Payment Information -->
                                <div class="column-section">
                                    <div class="column-title">Payment Information</div>

                                    <div class="field-section">
                                        <div class="field-label">Type:</div>
                                        <div class="field-value">
                                            <t t-if="o.payment_type == 'inbound'">
                                                <span style="color: #28a745; font-weight: 600;">Receipt</span>
                                            </t>
                                            <t t-else="">
                                                <span style="color: #dc3545; font-weight: 600;">Payment</span>
                                            </t>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Invoice Ref:</div>
                                        <div class="field-value">
                                            <span t-field="o.ref" t-if="o.ref"/>
                                            <span t-if="not o.ref">N/A</span>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Currency:</div>
                                        <div class="field-value">
                                            <span t-field="o.currency_id.name"/>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Memo:</div>
                                        <div class="field-value" style="min-height: 25px; font-size: 14px;">
                                            <span t-field="o.memo" t-if="o.memo"/>
                                            <span t-if="not o.memo">-</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Column 3: Document References & Summary -->
                                <div class="column-section">
                                    <div class="column-title">Document Summary</div>

                                    <div class="field-section">
                                        <div class="field-label">Status:</div>
                                        <div class="field-value">
                                            <span t-field="o.state" style="text-transform: capitalize; font-weight: 600;"/>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Created:</div>
                                        <div class="field-value" style="font-size: 13px;">
                                            <span t-field="o.create_date" t-options="{'format': 'dd/MM/yyyy'}"/>
                                        </div>
                                    </div>

                                    <div class="field-section">
                                        <div class="field-label">Creator:</div>
                                        <div class="field-value" style="font-size: 13px;">
                                            <span t-field="o.create_uid.name"/>
                                        </div>
                                    </div>

                                    <!-- Mini Document Table -->
                                    <div style="margin-top: 10px;">
                                        <table class="document-table" style="font-size: 11px;">
                                            <tr>
                                                <th style="padding: 4px;">Doc Type</th>
                                                <th style="padding: 4px;">Status</th>
                                            </tr>
                                            <tr>
                                                <td style="padding: 3px;">
                                                    <t t-if="o.payment_type == 'inbound'">Receipt</t>
                                                    <t t-else="">Voucher</t>
                                                </td>
                                                <td style="padding: 3px; text-transform: capitalize;">
                                                    <span t-field="o.state"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!-- Amount in Words -->
                            <div class="amount-words">
                                <strong>Amount in Words:</strong>
                                <span t-esc="o._amount_in_words()"/>
                            </div>

                            <!-- Total Amount -->
                            <div class="amount-section">
                                <strong>TOTAL AMOUNT: <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                                </strong>
                            </div>

                            <!-- Four Signature Sections in 2x2 Grid -->
                            <div class="signature-grid">
                                <!-- Prepared By -->
                                <div class="signature-box-compact">
                                    <div class="signature-name">
                                        <span t-field="o.create_uid.name" t-if="o.create_uid"/>
                                        <span t-if="not o.create_uid">_____________</span>
                                    </div>
                                    <div class="signature-line">
                                        <t t-if="o.create_uid.name">
                                            <div class="signature-initials">
                                                <span t-esc="''.join([word[0].upper() for word in o.create_uid.name.split()[:2]])"/>
                                            </div>
                                        </t>
                                    </div>
                                    <div class="signature-date">
                                        <span t-field="o.create_date" t-options="{'format': 'dd/MM/yyyy'}"/>
                                    </div>
                                    <div class="signature-title">Prepared By</div>
                                </div>

                                <!-- Reviewed By -->
                                <div class="signature-box-compact">
                                    <div class="signature-name">
                                        <span t-field="o.reviewer_id.name" t-if="o.reviewer_id"/>
                                        <span t-if="not o.reviewer_id">_____________</span>
                                    </div>
                                    <div class="signature-line">
                                        <t t-if="o.reviewer_id">
                                            <div class="signature-initials">
                                                <span t-esc="''.join([word[0].upper() for word in o.reviewer_id.name.split()[:2]])"/>
                                            </div>
                                        </t>
                                    </div>
                                    <div class="signature-date">
                                        <span t-field="o.reviewer_date" t-options="{'format': 'dd/MM/yyyy'}" t-if="o.reviewer_date"/>
                                        <span t-if="not o.reviewer_date">___/___/____</span>
                                    </div>
                                    <div class="signature-title">Reviewed By</div>
                                </div>

                                <!-- Approved By -->
                                <div class="signature-box-compact">
                                    <div class="signature-name">
                                        <span t-field="o.approver_id.name" t-if="o.approver_id"/>
                                        <span t-if="not o.approver_id">_____________</span>
                                    </div>
                                    <div class="signature-line">
                                        <t t-if="o.approver_id">
                                            <div class="signature-initials">
                                                <span t-esc="''.join([word[0].upper() for word in o.approver_id.name.split()[:2]])"/>
                                            </div>
                                        </t>
                                    </div>
                                    <div class="signature-date">
                                        <span t-field="o.approver_date" t-options="{'format': 'dd/MM/yyyy'}" t-if="o.approver_date"/>
                                        <span t-if="not o.approver_date">___/___/____</span>
                                    </div>
                                    <div class="signature-title">Approved By</div>
                                </div>

                                <!-- Received By -->
                                <div class="signature-box-compact">
                                    <div class="signature-name">
                                        <span t-field="o.partner_id.name"/>
                                    </div>
                                    <div class="signature-line">
                                        <!-- Empty for manual signature -->
                                    </div>
                                    <div class="signature-date">
                                        <span t-field="o.date" t-options="{'format': 'dd/MM/yyyy'}"/>
                                    </div>
                                    <div class="signature-title">Received By</div>
                                </div>
                            </div>

                            <!-- Creator Info -->
                            <div class="creator-info">
                                    Document: <span t-field="o.name"/>
 | 
                                    Generated: <span t-field="o.create_date" t-options="{'format': 'dd/MM/yyyy HH:mm'}"/>
                        <t t-if="o.write_uid != o.create_uid"> | Modified: <span t-field="o.write_uid.name"/>
                        </t>
                    </div>

                    <!-- Footer -->
                    <div class="footer-note">
                        <strong>OSUS Properties - Professional Payment System</strong> | 
                                    Computer-generated document - No signature required | 
                        <span t-field="o.company_id.name"/>
,                        <span t-field="o.company_id.country_id.name"/>
                    </div>
                </div>
            </div>
        </t>
    </t>
</t>
</template>

</data>
</odoo>
