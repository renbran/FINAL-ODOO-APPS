<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Critical Error Handler Assets - Load First -->
    <template id="assets_backend" inherit_id="web.assets_backend">
        <!-- High Priority: Load error handlers before other scripts -->
        <script type="text/javascript" src="/account_payment_final/static/src/js/cloudpepper_js_error_handler.js" t-js="prepend"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/emergency_error_fix.js" t-js="prepend"/>
    </template>

    <!-- Override web.assets_web_dark to fix syntax issues -->
    <template id="assets_web_dark_fix" inherit_id="web.assets_web_dark">
        <!-- Prepend our safe error handlers -->
        <script type="text/javascript" src="/account_payment_final/static/src/js/cloudpepper_js_error_handler.js" t-js="prepend"/>
    </template>

    <!-- Main Assets -->
    <template id="assets_backend_payment" inherit_id="web.assets_backend">
        <!-- CSS Assets -->
        <link rel="stylesheet" type="text/scss" href="/account_payment_final/static/src/scss/main.scss"/>
        <link rel="stylesheet" type="text/scss" href="/account_payment_final/static/src/scss/payment_voucher.scss"/>
        <link rel="stylesheet" type="text/scss" href="/account_payment_final/static/src/scss/osus_branding.scss"/>

        <!-- JavaScript Assets -->
        <script type="text/javascript" src="/account_payment_final/static/src/js/payment_workflow.js"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/payment_voucher.js"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/components/payment_approval_widget.js"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/fields/qr_code_field.js"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/views/payment_list_view.js"/>
    </template>

    <!-- Frontend Assets -->
    <template id="assets_frontend_payment" inherit_id="web.assets_frontend">
        <link rel="stylesheet" type="text/scss" href="/account_payment_final/static/src/scss/frontend/verification_portal.scss"/>
        <script type="text/javascript" src="/account_payment_final/static/src/js/frontend/qr_verification.js"/>
    </template>
</odoo>