from odoo.tests import common
from odoo.tests.common import Form

class TestPropertyPropertyViews(common.TransactionCase):
    def setUp(self):
        super(TestPropertyPropertyViews, self).setUp()
        self.property_model = self.env['property.property']

    def test_address_field_displayed(self):
        # Create a new property record
        property = self.property_model.create({
            'name': 'Test Property',
            'property_reference': 'TP001',
        })

        # Get the form view
        form_view = self.env.ref('property_management.view_property_property_form')

        # Simulate opening the form view for the property
        with Form(property, view=form_view) as property_form:
            # Check if the address field is present in the form
            self.assertIn('address', property_form._view['fields'],
                          "Address field should be present in the form view")

            # Check if the address field has the correct attributes
            address_field = property_form._view['fields']['address']
            self.assertEqual(address_field['string'], 'Address',
                             "Address field should have the correct label")
            self.assertEqual(address_field['placeholder'], 'Enter full address...',
                             "Address field should have the correct placeholder")
