&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;templates&gt;
    &lt;!-- Main Dashboard Template --&gt;
    &lt;t t-name="enterprise_dynamic_reports.DashboardTemplate" owl="1"&gt;
        &lt;div class="o_enterprise_reports o_enterprise_dashboard"&gt;
            &lt;div class="o_enterprise_reports_container"&gt;
                
                &lt;!-- Dashboard Header --&gt;
                &lt;div class="o_enterprise_dashboard_header"&gt;
                    &lt;div class="o_enterprise_dashboard_title"&gt;
                        &lt;h1&gt;
                            &lt;i class="fa fa-tachometer-alt o_enterprise_icon"/&gt;
                            Financial Dashboard
                        &lt;/h1&gt;
                        &lt;div class="o_enterprise_dashboard_subtitle"&gt;
                            Real-time financial insights and analytics
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class="o_enterprise_dashboard_controls"&gt;
                        &lt;button class="o_enterprise_theme_toggle" 
                                t-on-click="onToggleTheme"
                                title="Toggle Theme"&gt;
                            &lt;i t-if="state.themeMode === 'light'" class="fa fa-moon"/&gt;
                            &lt;i t-else="" class="fa fa-sun"/&gt;
                        &lt;/button&gt;
                        
                        &lt;button class="o_enterprise_btn o_enterprise_btn_secondary"
                                t-on-click="onToggleFilters"&gt;
                            &lt;i class="fa fa-filter"/&gt;
                            Filters
                        &lt;/button&gt;
                        
                        &lt;button class="o_enterprise_btn o_enterprise_btn_primary"
                                t-on-click="onRefreshDashboard"
                                t-att-disabled="state.refreshing"&gt;
                            &lt;i t-if="!state.refreshing" class="fa fa-refresh"/&gt;
                            &lt;i t-else="" class="fa fa-spinner fa-spin"/&gt;
                            Refresh
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;!-- Filter Panel --&gt;
                &lt;div t-if="state.showFilters" class="o_enterprise_filter_panel"&gt;
                    &lt;div class="o_enterprise_filter_header"&gt;
                        &lt;h3&gt;Dashboard Filters&lt;/h3&gt;
                        &lt;button class="o_enterprise_filter_toggle" t-on-click="onToggleFilters"&gt;
                            &lt;i class="fa fa-times"/&gt;
                        &lt;/button&gt;
                    &lt;/div&gt;
                    
                    &lt;div class="o_enterprise_filter_content"&gt;
                        &lt;div class="o_enterprise_filter_group"&gt;
                            &lt;label class="o_enterprise_filter_label"&gt;Period&lt;/label&gt;
                            &lt;select class="o_enterprise_filter_select" 
                                    t-model="state.selectedPeriod"
                                    t-on-change="(ev) =&gt; this.onPeriodChange(ev.target.value)"&gt;
                                &lt;option value="today"&gt;Today&lt;/option&gt;
                                &lt;option value="week"&gt;This Week&lt;/option&gt;
                                &lt;option value="month"&gt;This Month&lt;/option&gt;
                                &lt;option value="quarter"&gt;This Quarter&lt;/option&gt;
                                &lt;option value="year"&gt;This Year&lt;/option&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                        
                        &lt;div class="o_enterprise_filter_group"&gt;
                            &lt;label class="o_enterprise_filter_label"&gt;Company&lt;/label&gt;
                            &lt;select class="o_enterprise_filter_select"&gt;
                                &lt;option t-foreach="state.dashboardData?.companies || []" 
                                        t-as="company" 
                                        t-key="company.id"
                                        t-esc="company.name"/&gt;
                            &lt;/select&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;!-- Loading State --&gt;
                &lt;div t-if="state.isLoading" class="o_enterprise_loading"&gt;
                    &lt;div class="o_enterprise_loading_spinner"/&gt;
                    &lt;div class="o_enterprise_loading_text"&gt;Loading dashboard...&lt;/div&gt;
                &lt;/div&gt;
                
                &lt;!-- Error State --&gt;
                &lt;div t-if="state.error" class="o_enterprise_error"&gt;
                    &lt;div class="o_enterprise_error_icon"&gt;
                        &lt;i class="fa fa-exclamation-triangle"/&gt;
                    &lt;/div&gt;
                    &lt;h3 class="o_enterprise_error_title"&gt;Error Loading Dashboard&lt;/h3&gt;
                    &lt;p class="o_enterprise_error_message" t-esc="state.error"/&gt;
                    &lt;button class="o_enterprise_btn o_enterprise_btn_primary" 
                            t-on-click="onRefreshDashboard"&gt;
                        Try Again
                    &lt;/button&gt;
                &lt;/div&gt;
                
                &lt;!-- Dashboard Content --&gt;
                &lt;div t-if="!state.isLoading and !state.error" class="o_enterprise_dashboard_content"&gt;
                    
                    &lt;!-- KPI Section --&gt;
                    &lt;div class="o_enterprise_kpi_section"&gt;
                        &lt;div class="o_enterprise_kpi_grid"&gt;
                            
                            &lt;!-- Revenue KPI --&gt;
                            &lt;div class="o_enterprise_kpi_card"&gt;
                                &lt;div class="o_enterprise_kpi_header"&gt;
                                    &lt;h4 class="o_enterprise_kpi_title"&gt;Total Revenue&lt;/h4&gt;
                                    &lt;div class="o_enterprise_kpi_icon o_enterprise_kpi_revenue"&gt;
                                        &lt;i class="fa fa-arrow-up"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_kpi_value" t-esc="state.kpis.total_revenue?.formatted || '0.00'"/&gt;
                                &lt;div class="o_enterprise_kpi_change"&gt;
                                    &lt;span t-att-class="'o_enterprise_change_value ' + this.getKpiTrendClass(state.kpis.total_revenue?.trend)"
                                          t-esc="state.kpis.total_revenue?.growth ? this.formatPercentage(state.kpis.total_revenue.growth) : '0%'"/&gt;
                                    &lt;i t-att-class="'o_enterprise_change_icon fa ' + this.getKpiTrendIcon(state.kpis.total_revenue?.trend)"/&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;!-- Expenses KPI --&gt;
                            &lt;div class="o_enterprise_kpi_card"&gt;
                                &lt;div class="o_enterprise_kpi_header"&gt;
                                    &lt;h4 class="o_enterprise_kpi_title"&gt;Total Expenses&lt;/h4&gt;
                                    &lt;div class="o_enterprise_kpi_icon o_enterprise_kpi_expense"&gt;
                                        &lt;i class="fa fa-arrow-down"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_kpi_value" t-esc="state.kpis.total_expenses?.formatted || '0.00'"/&gt;
                                &lt;div class="o_enterprise_kpi_change"&gt;
                                    &lt;span t-att-class="'o_enterprise_change_value ' + this.getKpiTrendClass(state.kpis.total_expenses?.trend)"&gt;
                                        vs last period
                                    &lt;/span&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;!-- Profit KPI --&gt;
                            &lt;div class="o_enterprise_kpi_card"&gt;
                                &lt;div class="o_enterprise_kpi_header"&gt;
                                    &lt;h4 class="o_enterprise_kpi_title"&gt;Net Profit&lt;/h4&gt;
                                    &lt;div class="o_enterprise_kpi_icon o_enterprise_kpi_profit"&gt;
                                        &lt;i class="fa fa-chart-line"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_kpi_value" t-esc="state.kpis.profit?.formatted || '0.00'"/&gt;
                                &lt;div class="o_enterprise_kpi_change"&gt;
                                    &lt;span t-att-class="'o_enterprise_change_value ' + this.getKpiTrendClass(state.kpis.profit?.trend)"&gt;
                                        Performance
                                    &lt;/span&gt;
                                    &lt;i t-att-class="'o_enterprise_change_icon fa ' + this.getKpiTrendIcon(state.kpis.profit?.trend)"/&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;!-- Profit Margin KPI --&gt;
                            &lt;div class="o_enterprise_kpi_card"&gt;
                                &lt;div class="o_enterprise_kpi_header"&gt;
                                    &lt;h4 class="o_enterprise_kpi_title"&gt;Profit Margin&lt;/h4&gt;
                                    &lt;div class="o_enterprise_kpi_icon o_enterprise_kpi_margin"&gt;
                                        &lt;i class="fa fa-percentage"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_kpi_value" t-esc="state.kpis.profit_margin?.formatted || '0%'"/&gt;
                                &lt;div class="o_enterprise_kpi_change"&gt;
                                    &lt;span t-att-class="'o_enterprise_change_value ' + this.getKpiTrendClass(state.kpis.profit_margin?.trend)"&gt;
                                        Efficiency
                                    &lt;/span&gt;
                                    &lt;i t-att-class="'o_enterprise_change_icon fa ' + this.getKpiTrendIcon(state.kpis.profit_margin?.trend)"/&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- Widgets Grid --&gt;
                    &lt;div class="o_enterprise_widget_grid"&gt;
                        &lt;div t-foreach="state.widgets" 
                             t-as="widget" 
                             t-key="widget.id"
                             t-att-id="'widget-' + widget.id"
                             t-att-class="'o_enterprise_widget ' + this.getWidgetSizeClass(widget)"&gt;
                            
                            &lt;div class="o_enterprise_widget_header"&gt;
                                &lt;h4 class="o_enterprise_widget_title" t-esc="widget.name"/&gt;
                                &lt;div class="o_enterprise_widget_menu"&gt;
                                    &lt;button title="Widget Options"&gt;
                                        &lt;i class="fa fa-ellipsis-v"/&gt;
                                    &lt;/button&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;div class="o_enterprise_widget_content"&gt;
                                &lt;!-- Chart Widgets --&gt;
                                &lt;div t-if="widget.type.includes('chart')" class="o_enterprise_chart_container"&gt;
                                    &lt;!-- Chart will be rendered by JavaScript --&gt;
                                &lt;/div&gt;
                                
                                &lt;!-- KPI Cards Widget --&gt;
                                &lt;div t-if="widget.type === 'kpi_cards'" class="o_enterprise_summary_widget"&gt;
                                    &lt;div t-foreach="Object.entries(widget.data || {})" 
                                         t-as="kpi" 
                                         t-key="kpi[0]"
                                         class="o_enterprise_summary_item"&gt;
                                        &lt;span class="o_enterprise_summary_label" t-esc="kpi[0].replace('_', ' ').toUpperCase()"/&gt;
                                        &lt;span class="o_enterprise_summary_value" t-esc="kpi[1].formatted || kpi[1]"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                
                                &lt;!-- Summary Widgets --&gt;
                                &lt;div t-if="widget.type.includes('summary')" class="o_enterprise_summary_widget"&gt;
                                    &lt;div t-foreach="widget.data?.items || []" 
                                         t-as="item" 
                                         t-key="item.id"
                                         class="o_enterprise_summary_item"&gt;
                                        &lt;span class="o_enterprise_summary_label" t-esc="item.label"/&gt;
                                        &lt;span t-att-class="'o_enterprise_summary_value ' + (item.value &gt; 0 ? 'positive' : 'negative')" 
                                              t-esc="this.formatCurrency(item.value)"/&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- Quick Actions --&gt;
                    &lt;div class="o_enterprise_quick_actions"&gt;
                        &lt;h3 class="o_enterprise_quick_actions_header"&gt;Quick Actions&lt;/h3&gt;
                        &lt;div class="o_enterprise_quick_actions_grid"&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('balance_sheet')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-balance-scale"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;Balance Sheet&lt;/div&gt;
                            &lt;/a&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('profit_loss')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-chart-line"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;Profit &amp;amp; Loss&lt;/div&gt;
                            &lt;/a&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('trial_balance')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-list-alt"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;Trial Balance&lt;/div&gt;
                            &lt;/a&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('general_ledger')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-book"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;General Ledger&lt;/div&gt;
                            &lt;/a&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('cash_flow')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-exchange-alt"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;Cash Flow&lt;/div&gt;
                            &lt;/a&gt;
                            
                            &lt;a class="o_enterprise_quick_action" 
                               t-on-click="() =&gt; this.onNavigateToReport('aged_receivables')"&gt;
                                &lt;div class="o_enterprise_action_icon"&gt;
                                    &lt;i class="fa fa-clock"/&gt;
                                &lt;/div&gt;
                                &lt;div class="o_enterprise_action_label"&gt;Aged Receivables&lt;/div&gt;
                            &lt;/a&gt;
                            
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                &lt;/div&gt;
                
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/t&gt;
    
&lt;/templates&gt;
