<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Payment Approval Main Menu -->
    <record id="menu_payment_approval_main" model="ir.ui.menu">
        <field name="name">Payment Approval</field>
        <field name="sequence">25</field>
        <field name="web_icon">account_payment_approval,static/description/icon.png</field>
    </record>

    <!-- Dashboard -->
    <record id="action_payment_approval_dashboard" model="ir.actions.act_window">
        <field name="name">Payment Approval Dashboard</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_payment_approval_dashboard"/>
        <field name="target">current</field>
        <field name="context">{}</field>
    </record>

    <record id="menu_payment_approval_dashboard" model="ir.ui.menu">
        <field name="name">Dashboard</field>
        <field name="parent_id" ref="menu_payment_approval_main"/>
        <field name="action" ref="action_payment_approval_dashboard"/>
        <field name="sequence">1</field>
    </record>

    <!-- Journal Entries with Payment Approval -->
    <record id="action_journal_entries_with_payments" model="ir.actions.act_window">
        <field name="name">Journal Entries - Payment Tracking</field>
        <field name="res_model">account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="account_move_enhanced_tree_view"/>
        <field name="domain">[('payment_ids', '!=', False)]</field>
        <field name="context">{
            'default_move_type': 'entry',
            'search_default_posted': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                View journal entries with payment approval tracking
            </p>
            <p>
                Enhanced journal entry view with payment approval integration, 
                reconciliation navigation, and ledger verification tools.
            </p>
        </field>
    </record>

    <record id="menu_journal_entries_with_payments" model="ir.ui.menu">
        <field name="name">Journal Entries - Payment Tracking</field>
        <field name="parent_id" ref="menu_payment_approval_main"/>
        <field name="action" ref="action_journal_entries_with_payments"/>
        <field name="sequence">5</field>
    </record>

    <!-- Payments Menu -->
    <record id="menu_payment_approval_payments" model="ir.ui.menu">
        <field name="name">Payments</field>
        <field name="parent_id" ref="menu_payment_approval_main"/>
        <field name="sequence">10</field>
    </record>

    <!-- All Payments -->
    <record id="action_payment_approval_all" model="ir.actions.act_window">
        <field name="name">All Payments</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('requires_approval', '=', True)]</field>
        <field name="context">{
            'default_payment_type': 'outbound',
            'default_requires_approval': True,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first payment requiring approval
            </p>
            <p>
                Payments above the configured threshold will require approval workflow.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_all" model="ir.ui.menu">
        <field name="name">All Payments</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_all"/>
        <field name="sequence">1</field>
    </record>

    <!-- Pending Review -->
    <record id="action_payment_approval_pending_review" model="ir.actions.act_window">
        <field name="name">Pending Review</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('approval_state', '=', 'submitted')]</field>
        <field name="context">{
            'search_default_approval_state_submitted': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No payments pending review
            </p>
            <p>
                Payments submitted for approval will appear here for review.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_pending_review" model="ir.ui.menu">
        <field name="name">Pending Review</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_pending_review"/>
        <field name="sequence">2</field>
    </record>

    <!-- Pending Approval -->
    <record id="action_payment_approval_pending_approval" model="ir.actions.act_window">
        <field name="name">Pending Approval</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('approval_state', '=', 'under_review')]</field>
        <field name="context">{
            'search_default_approval_state_under_review': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No payments pending approval
            </p>
            <p>
                Payments under review will appear here for approval.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_pending_approval" model="ir.ui.menu">
        <field name="name">Pending Approval</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_pending_approval"/>
        <field name="sequence">3</field>
    </record>

    <!-- Pending Authorization -->
    <record id="action_payment_approval_pending_authorization" model="ir.actions.act_window">
        <field name="name">Pending Authorization</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('approval_state', '=', 'approved')]</field>
        <field name="context">{
            'search_default_approval_state_approved': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No payments pending authorization
            </p>
            <p>
                High-value approved payments will appear here for final authorization.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_pending_authorization" model="ir.ui.menu">
        <field name="name">Pending Authorization</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_pending_authorization"/>
        <field name="sequence">4</field>
    </record>

    <!-- My Actions -->
    <record id="action_payment_approval_my_actions" model="ir.actions.act_window">
        <field name="name">My Pending Actions</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('next_action_users', 'in', [uid])]</field>
        <field name="context">{
            'search_default_my_pending_actions': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No pending actions for you
            </p>
            <p>
                Payments requiring your action will appear here.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_my_actions" model="ir.ui.menu">
        <field name="name">My Actions</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_my_actions"/>
        <field name="sequence">5</field>
    </record>

    <!-- Rejected Payments -->
    <record id="action_payment_approval_rejected" model="ir.actions.act_window">
        <field name="name">Rejected Payments</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('approval_state', '=', 'rejected')]</field>
        <field name="context">{
            'search_default_approval_state_rejected': 1,
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No rejected payments
            </p>
            <p>
                Rejected payments will appear here and can be reset to draft for resubmission.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_rejected" model="ir.ui.menu">
        <field name="name">Rejected</field>
        <field name="parent_id" ref="menu_payment_approval_payments"/>
        <field name="action" ref="action_payment_approval_rejected"/>
        <field name="sequence">6</field>
    </record>

    <!-- Reports Menu -->
    <record id="menu_payment_approval_reports" model="ir.ui.menu">
        <field name="name">Reports</field>
        <field name="parent_id" ref="menu_payment_approval_main"/>
        <field name="sequence">20</field>
    </record>

    <!-- Payment Voucher Report -->
    <record id="action_payment_voucher_report" model="ir.actions.report">
        <field name="name">Payment Voucher</field>
        <field name="model">account.payment</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">account_payment_approval.payment_voucher_report</field>
        <field name="report_file">account_payment_approval.payment_voucher_report</field>
        <field name="print_report_name">'Payment Voucher - %s' % (object.voucher_number)</field>
        <field name="binding_model_id" ref="account.model_account_payment"/>
        <field name="binding_type">report</field>
    </record>

    <!-- Configuration Menu -->
    <record id="menu_payment_approval_configuration" model="ir.ui.menu">
        <field name="name">Configuration</field>
        <field name="parent_id" ref="menu_payment_approval_main"/>
        <field name="sequence">90</field>
        <field name="groups_id" eval="[(6, 0, [ref('group_payment_manager')])]"/>
    </record>

    <!-- Approval Configuration -->
    <record id="action_payment_approval_config" model="ir.actions.act_window">
        <field name="name">Approval Configuration</field>
        <field name="res_model">payment.approval.config</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first approval configuration
            </p>
            <p>
                Configure approval thresholds, workflow settings, and notification preferences.
            </p>
        </field>
    </record>

    <record id="menu_payment_approval_config" model="ir.ui.menu">
        <field name="name">Approval Configuration</field>
        <field name="parent_id" ref="menu_payment_approval_configuration"/>
        <field name="action" ref="action_payment_approval_config"/>
        <field name="sequence">1</field>
        <field name="groups_id" eval="[(6, 0, [ref('group_payment_manager')])]"/>
    </record>

    <!-- Settings -->
    <record id="action_payment_approval_settings" model="ir.actions.act_window">
        <field name="name">Payment Approval Settings</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module': 'account_payment_approval'}</field>
    </record>

    <record id="menu_payment_approval_settings" model="ir.ui.menu">
        <field name="name">Settings</field>
        <field name="parent_id" ref="menu_payment_approval_configuration"/>
        <field name="action" ref="action_payment_approval_settings"/>
        <field name="sequence">10</field>
        <field name="groups_id" eval="[(6, 0, [ref('group_payment_admin')])]"/>
    </record>

    <!-- Quick Actions in Accounting -->
    <record id="menu_account_payment_approval_quick" model="ir.ui.menu">
        <field name="name">Payment Approval</field>
        <field name="parent_id" ref="account.menu_finance"/>
        <field name="sequence">15</field>
        <field name="action" ref="action_payment_approval_my_actions"/>
    </record>

    <!-- Add to Accounting > Payments -->
    <record id="menu_account_payment_approval_sub" model="ir.ui.menu">
        <field name="name">Approval Workflow</field>
        <field name="parent_id" ref="account.menu_finance_payables"/>
        <field name="sequence">25</field>
        <field name="action" ref="action_payment_approval_pending_review"/>
    </record>
</odoo>
