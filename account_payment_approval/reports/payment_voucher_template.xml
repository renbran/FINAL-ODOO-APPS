<odoo>
    <template id="payment_voucher_template" name="Payment/Receipt Voucher">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <style>
                        @page { margin: 8mm; size: A4; }
                        .voucher-container { font-family: Arial, sans-serif; font-size: 11px; color: #333; }
                        .voucher-header { 
                            background: linear-gradient(135deg, #800020, #660018);
                            color: white; padding: 15px; margin-bottom: 20px; border-radius: 8px;
                        }
                        .voucher-title { 
                            text-align: center; font-size: 24px; font-weight: bold; 
                            text-transform: uppercase; margin: 0;
                        }
                        .voucher-subtitle { text-align: center; font-size: 12px; margin: 8px 0 0 0; }
                        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
                        .info-section { background: #f8f9fa; padding: 15px; border-radius: 6px; }
                        .field-label { font-weight: bold; color: #800020; font-size: 10px; margin-bottom: 4px; text-transform: uppercase; }
                        .field-value { border-bottom: 1px solid #800020; padding: 6px 4px; margin-bottom: 10px; min-height: 18px; }
                        .amount-section { 
                            background: linear-gradient(135deg, #800020, #660018);
                            color: white; padding: 20px; text-align: center; margin: 20px 0; border-radius: 8px;
                        }
                        .amount-value { font-size: 20px; font-weight: bold; margin: 8px 0; }
                        .signatures-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 25px 0; }
                        .signature-box { 
                            text-align: center; padding: 12px; background: white; 
                            border: 2px solid #800020; border-radius: 6px; min-height: 80px;
                        }
                        .signature-title { font-weight: bold; color: #800020; font-size: 10px; text-transform: uppercase; margin-bottom: 8px; }
                        .signature-line { border-bottom: 2px solid #800020; height: 30px; margin: 10px 0 6px 0; }
                        .signature-name { font-size: 9px; font-weight: 500; }
                        .qr-section { text-align: center; padding: 15px; background: #f8f9fa; border-radius: 6px; margin: 15px 0; }
                        .receiver-section { 
                            background: #FFF8DC; border: 2px solid #800020; 
                            border-radius: 8px; padding: 15px; margin: 20px 0;
                        }
                        .receiver-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
                        .footer-section { 
                            background: #800020; color: white; text-align: center; 
                            padding: 12px; border-radius: 6px; margin-top: 20px;
                        }
                        @media print { .signatures-grid, .receiver-section { page-break-inside: avoid; } }
                    </style>

                    <div class="voucher-container">
                        <!-- Header -->
                        <div class="voucher-header">
                            <div style="display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 20px;">
                                <!-- Company Logo -->
                                <div>
                                    <t t-if="o.company_id.logo">
                                        <img t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 50px; background: white; padding: 4px; border-radius: 4px;"/>
                                    </t>
                                    <t t-else="">
                                        <div style="width: 50px; height: 50px; background: white; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #800020;">OSUS</div>
                                    </t>
                                </div>

                                <!-- Title -->
                                <div>
                                    <h1 class="voucher-title">
                                        <t t-if="o.payment_type == 'inbound'">Receipt Voucher</t>
                                        <t t-else="">Payment Voucher</t>
                                    </h1>
                                    <div class="voucher-subtitle">
                                        <strong>No: <span t-esc="o.voucher_number or o.name"/>
 | Date: <span t-field="o.date"/>
                                    </strong>
                                </div>
                            </div>

                            <!-- QR Code -->
                            <div t-if="o.qr_code">
                                <div style="background: white; padding: 6px; border-radius: 4px; border: 2px solid white;">
                                    <img t-att-src="image_data_uri(o.qr_code)" style="width: 60px; height: 60px;"/>
                                    <div style="font-size: 7px; text-align: center; margin-top: 2px;">Verify</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Information -->
                    <div class="info-grid">
                        <div class="info-section">
                            <div class="field-label">
                                <span t-if="o.payment_type == 'outbound'">Pay To</span>
                                <span t-else="">Received From</span>
                            </div>
                            <div class="field-value" t-field="o.partner_id.name"/>

                            <div class="field-label">Phone</div>
                            <div class="field-value">
                                <span t-field="o.partner_id.mobile" t-if="o.partner_id.mobile"/>
                                <span t-field="o.partner_id.phone" t-if="not o.partner_id.mobile and o.partner_id.phone"/>
                                <span t-if="not o.partner_id.mobile and not o.partner_id.phone">Not provided</span>
                            </div>

                            <div class="field-label">Payment Method</div>
                            <div class="field-value" t-field="o.journal_id.name"/>
                        </div>

                        <div class="info-section">
                            <div class="field-label">Reference/Invoice</div>
                            <div class="field-value">
                                <span t-field="o.ref" t-if="o.ref"/>
                                <span t-if="not o.ref">Not specified</span>
                            </div>

                            <div class="field-label">Currency</div>
                            <div class="field-value">
                                <span t-field="o.currency_id.name"/>
 (                                <span t-field="o.currency_id.symbol"/>
)
                            </div>

                            <div class="field-label">Remarks</div>
                            <div class="field-value" style="min-height: 25px;">
                                <span t-field="o.remarks" t-if="o.remarks"/>
                                <span t-if="not o.remarks">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Amount Section -->
                    <div class="amount-section">
                        <div style="font-size: 14px; margin-bottom: 8px;">TOTAL AMOUNT</div>
                        <div class="amount-value">
                            <span t-field="o.amount" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/>
                        </div>
                        <div style="font-style: italic; font-size: 12px; opacity: 0.9;">
                            <strong>In Words: </strong>
                            <span t-esc="o.get_amount_in_words()"/>
                        </div>
                    </div>

                    <!-- Signatures -->
                    <div class="signatures-grid">
                        <div class="signature-box">
                            <div class="signature-title">Created By</div>
                            <div class="signature-line"></div>
                            <div class="signature-name" t-field="o.create_uid.name"/>
                            <div style="font-size: 8px; color: #666;" t-field="o.create_date" t-options="{'widget': 'date'}"/>
                        </div>

                        <div class="signature-box">
                            <div class="signature-title">Reviewed By</div>
                            <div class="signature-line"></div>
                            <div class="signature-name">
                                <span t-field="o.reviewer_id.name" t-if="o.reviewer_id"/>
                                <span t-if="not o.reviewer_id">_______________</span>
                            </div>
                            <div style="font-size: 8px; color: #666;">
                                <span t-field="o.reviewer_date" t-options="{'widget': 'date'}" t-if="o.reviewer_date"/>
                            </div>
                        </div>

                        <div class="signature-box">
                            <div class="signature-title">Authorized By</div>
                            <div class="signature-line"></div>
                            <div class="signature-name">
                                <span t-field="o.authorizer_id.name" t-if="o.authorizer_id"/>
                                <span t-field="o.actual_approver_id.name" t-if="not o.authorizer_id and o.actual_approver_id"/>
                                <span t-if="not o.authorizer_id and not o.actual_approver_id">_______________</span>
                            </div>
                            <div style="font-size: 8px; color: #666;">
                                <span t-field="o.authorizer_date" t-options="{'widget': 'date'}" t-if="o.authorizer_date"/>
                            </div>
                        </div>
                    </div>

                    <!-- Receiver Acknowledgment -->
                    <div class="receiver-section">
                        <div style="text-align: center; font-weight: bold; color: #800020; margin-bottom: 12px; text-transform: uppercase;">
                            Receiver Acknowledgment
                        </div>
                        <div class="receiver-grid">
                            <div>
                                <div style="margin-bottom: 10px;">
                                    <div style="font-weight: bold; font-size: 9px; margin-bottom: 3px;">Full Name:</div>
                                    <div style="border-bottom: 1px solid #800020; height: 18px; font-size: 10px; padding-top: 2px;">
                                        <span t-field="o.partner_id.name"/>
                                    </div>
                                </div>
                                <div>
                                    <div style="font-weight: bold; font-size: 9px; margin-bottom: 3px;">Mobile:</div>
                                    <div style="border-bottom: 1px solid #800020; height: 18px; font-size: 10px; padding-top: 2px;">
                                        <span t-field="o.partner_id.mobile" t-if="o.partner_id.mobile"/>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <div style="margin-bottom: 10px;">
                                    <div style="font-weight: bold; font-size: 9px; margin-bottom: 3px;">Date:</div>
                                    <div style="border-bottom: 1px solid #800020; height: 18px; font-size: 10px; padding-top: 2px;">
                                        <span t-field="o.date"/>
                                    </div>
                                </div>
                                <div>
                                    <div style="font-weight: bold; font-size: 9px; margin-bottom: 3px;">Signature:</div>
                                    <div style="border: 1px dashed #800020; height: 30px; background: white; border-radius: 3px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="footer-section">
                        <div style="font-weight: bold; margin-bottom: 4px;">OSUS Properties - Professional Payment Solutions</div>
                        <div style="font-size: 9px; opacity: 0.9;">
                            Computer-generated document | <span t-field="o.company_id.name"/>
 | 
                            Verify: <span t-esc="o.get_verification_url()"/>
                    </div>
                </div>
            </div>
        </div>
    </t>
</t>
</template>

<!-- Report Action -->
<record id="action_payment_voucher_report" model="ir.actions.report">
<field name="name">Payment/Receipt Voucher</field>
<field name="model">account.payment</field>
<field name="report_type">qweb-pdf</field>
<field name="report_name">account_payment_final.payment_voucher_template</field>
<field name="report_file">account_payment_final.payment_voucher</field>
<field name="binding_model_id" ref="account.model_account_payment"/>
<field name="binding_type">report</field>
<field name="print_report_name">'%s-Voucher-%s' % (object.payment_type.title(), object.voucher_number or object.name)</field>
</record>
</odoo>