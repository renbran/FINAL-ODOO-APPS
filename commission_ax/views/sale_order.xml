<odoo>
    <record id="view_order_form_commission" model="ir.ui.view">
        <field name="name">sale.order.form.commission</field>
    <record id="view_sale_order_commission_form" model="ir.ui.view">
        <field name="name">sale.order.commission.form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Commissions" name="commissions">
                    <group>
                        <group string="External Commissions" name="external_commissions">
                            <field name="broker_agency_name"/>
                            <field name="broker_agency_commission_type"/>
                            <field name="broker_agency_rate"/>
                            <field name="broker_agency_total"/>
                            
                            <field name="referral_name"/>
                            <field name="referral_commission_type"/>
                            <field name="referral_rate"/>
                            <field name="referral_total"/>
                        </group>
                        <group string="External Commissions (cont.)" name="external_commissions_cont">
                            <field name="cashback_name"/>
                            <field name="cashback_commission_type"/>
                            <field name="cashback_rate"/>
                            <field name="cashback_total"/>
                            
                            <field name="other_name"/>
                            <field name="other_commission_type"/>
                            <field name="other_rate"/>
                            <field name="other_total"/>
                        </group>
            <xpath expr="//sheet" position="inside">
                <group string="Commissions" col="2">
                    
                    <!-- ========== External Commissions Column ========== -->
                    <group string="External Commission" col="2">
                        <label string="Broker/Agency Name"/>
                        <label string="Cashback Name"/>
                        <field name="external_commission_broker_id"/>
                        <field name="external_commission_cashback_id"/>
                        
                        <field name="external_commission_broker_type"/>
                        <field name="external_commission_cashback_type"/>
                        
                        <field name="external_commission_broker_rate"/>
                        <field name="external_commission_cashback_rate"/>
                        
                        <field name="external_commission_broker_total" readonly="1"/>
                        <field name="external_commission_cashback_total" readonly="1"/>

                        <separator string="" colspan="2"/>

                        <label string="Referral Name"/>
                        <label string="Other Name"/>
                        <field name="external_commission_referral_id"/>
                        <field name="external_commission_other_id"/>

                        <field name="external_commission_referral_type"/>
                        <field name="external_commission_other_type"/>

                        <field name="external_commission_referral_rate"/>
                        <field name="external_commission_other_rate"/>

                        <field name="external_commission_referral_total" readonly="1"/>
                        <field name="external_commission_other_total" readonly="1"/>
                    </group>
                    <group>
                        <group string="Internal Commissions" name="internal_commissions">
                            <field name="agent1_name"/>
                            <field name="agent1_commission_type"/>
                            <field name="agent1_rate"/>
                            <field name="agent1_total"/>
                            
                            <field name="agent2_name"/>
                            <field name="agent2_commission_type"/>
                            <field name="agent2_rate"/>
                            <field name="agent2_total"/>
                        </group>
                        <group string="Internal Commissions (cont.)" name="internal_commissions_cont">
                            <field name="manager_name"/>
                            <field name="manager_commission_type"/>
                            <field name="manager_rate"/>
                            <field name="manager_total"/>
                            
                            <field name="director_name"/>
                            <field name="director_commission_type"/>
                            <field name="director_rate"/>
                            <field name="director_total"/>
                        </group>
                    </group>
                    <group string="Commission Type Options" name="commission_type_options">
                        <field name="commission_type" widget="radio"/>
                    </group>
                </page>

                    <!-- ========== Internal Commissions Column ========== -->
                    <group string="Internal Commission" col="2">
                        <label string="Agent 1 Name"/>
                        <label string="Manager Name"/>
                        <field name="internal_commission_agent1_id"/>
                        <field name="internal_commission_manager_id"/>

                        <field name="internal_commission_agent1_type"/>
                        <field name="internal_commission_manager_type"/>

                        <field name="internal_commission_agent1_rate"/>
                        <field name="internal_commission_manager_rate"/>

                        <field name="internal_commission_agent1_total" readonly="1"/>
                        <field name="internal_commission_manager_total" readonly="1"/>

                        <separator string="" colspan="2"/>

                        <label string="Agent 2 Name"/>
                        <label string="Director Name"/>
                        <field name="internal_commission_agent2_id"/>
                        <field name="internal_commission_director_id"/>

                        <field name="internal_commission_agent2_type"/>
                        <field name="internal_commission_director_type"/>

                        <field name="internal_commission_agent2_rate"/>
                        <field name="internal_commission_director_rate"/>

                        <field name="internal_commission_agent2_total" readonly="1"/>
                        <field name="internal_commission_director_total" readonly="1"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
