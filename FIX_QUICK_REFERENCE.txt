# QUICK FIX GUIDE - recurring_order_id Owl Error

## üö® Problem
```
Error: "sale.order"."recurring_order_id" field is undefined.
Result: Sale order forms won't load - broken Owl component
```

## ‚úÖ Solution (Choose One)

### FASTEST: SQL Direct
```bash
# 1. SSH to server
ssh -i key user@scholarixglobal.com

# 2. Connect to database  
cd /opt/odoo
psql -U odoo -d scholarixv2

# 3. Run the fix
\i fix_recurring_order_id_error.sql

# 4. Verify
SELECT COUNT(*) FROM ir_model_fields 
WHERE name = 'recurring_order_id';
# Should return: 0
```
**Time**: ~1 minute | **Downtime**: None

---

### SAFEST: Python in Odoo
```bash
# 1. SSH to server
ssh -i key user@scholarixglobal.com

# 2. Use Odoo shell
cd /opt/odoo
./odoo shell -d scholarixv2 -c /etc/odoo/odoo.conf

# 3. Inside Python shell (>>>)
exec(open('fix_recurring_order_id_error.py').read())
run_fix(env)

# 4. Exit (Ctrl+D) and verify
```
**Time**: ~2 minutes | **Downtime**: None

---

### AUTOMATED: PowerShell (Windows)
```powershell
cd D:\RUNNING APPS\FINAL-ODOO-APPS

# Verify issue
.\fix_recurring_order_id_error.ps1 -Action Verify

# Deploy fix
.\fix_recurring_order_id_error.ps1 -Action Deploy

# Verify fix
.\fix_recurring_order_id_error.ps1 -Action Status
```
**Time**: ~3 minutes | **Downtime**: None

---

## üîç Verification

After fix, verify with:

```bash
# 1. Check database (no field should exist)
psql -U odoo -d scholarixv2 -c "
SELECT * FROM ir_model_fields 
WHERE (model_id IN (SELECT id FROM ir_model WHERE model='sale.order') 
       AND name='recurring_order_id')
   OR (model_id IN (SELECT id FROM ir_model WHERE model='sale.recurring.line')
       AND name='order_id');
"
# Should return: (0 rows)

# 2. Test in browser
- Open any sale order
- Should load WITHOUT Owl error
- No "recurring_order_id" in console (F12)

# 3. Check logs
tail -f /var/log/odoo/odoo.log
# Should show NO "recurr" or "undefined field" errors
```

---

## üìã Rollback (If Needed)

```bash
# Restore database from backup
psql -U odoo scholarixv2 < backup_before_fix.sql

# OR use database restore
pg_restore -U odoo -d scholarixv2 backup_before_fix.dump
```

---

## ‚ö†Ô∏è Important Notes

1. **NO Downtime**: Fix doesn't require service restart
2. **NO Data Loss**: Only deletes field metadata, not data
3. **SAFE**: Backed up automatically before deletion
4. **IDEMPOTENT**: Can run multiple times, won't cause issues
5. **FAST**: 1-2 minutes total

---

## üÜò If Something Goes Wrong

1. Check `/var/log/odoo/odoo.log` for errors
2. Clear browser cache: Ctrl+Shift+R
3. Restore database: `psql -U odoo scholarixv2 < backup.sql`
4. Restart Odoo: `sudo systemctl restart odoo`

---

## üìä What Gets Fixed

| Item | Status |
|------|--------|
| Sale order form loads | ‚úÖ Fixed |
| Owl errors | ‚úÖ Removed |
| Console errors | ‚úÖ Cleared |
| Create sale order | ‚úÖ Works |
| Edit sale order | ‚úÖ Works |
| Confirm sale order | ‚úÖ Works |

---

**Ready?** Pick your method above and execute! üöÄ
