<odoo>
    <record id="view_res_partner_form_inherit_document" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.document</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="Documents">
                    <field name="document_ids" context="{'default_partner_id': active_id}">
                        <tree delete="false">
                            <field name="name" />
                            <field name="expiry_date" style="width: 100px;" />
                            <field name="email" />
                            <field name="category_id" string="Category" />
                            <field name="tags" widget="many2many_tags" />
                            <field name="document_url"
                                placeholder="Paste Google Drive, Dropbox, or OneDrive link here" />
                            

                            <button name="unlink"
                                type="object"
                                icon="fa-trash"
                                confirm="Are you sure you want to delete this document ?" />
                        </tree>
                        <form string="Document" class="hide-save-buttons">
                            <sheet>
                
                                <group>
                                    <field name="name" string="Document Name" />
                                    <field name="attachment" widget="many2many_binary"
                                        options="{'accepted_file_extensions': 'image/*,.pdf,.doc,.docx,.xls,.xlsx'}" help = " ℹ️ Maximum file size allowed is 10MB" />
                                    <field name="expiry_date" />
                                    <field name="email" />
                                    <field name="tags" widget="many2many_tags" />
                                    <field name="document_url"
                                        placeholder="Paste Google Drive, Dropbox, or OneDrive link here"
                                        required="1" />
                                    <field name="category_id" string="Category" />
                                    
                                </group>
                                <button name="action_save_document"
                                    string="Save"
                                    type="object"
                                    class="btn-primary"
                                    confirm="Are you sure you want to save this document?"
                                     />
                               
                            </sheet>
                           
                        </form>
                    </field>
                </page>
            </notebook>
        </field>
    </record>
</odoo>


<!-- <odoo>
    <record id="view_res_partner_form_inherit_document" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.document</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="Documents">
                    <field name="document_ids" context="{'default_partner_id': active_id}">
                        <tree>
                            <field name="name" />
                            <field name="expiry_date" style="width: 100px;" />
                            <field name="email" />
                            <field name="category_id" string="Category" />
                            <field name="tags" widget="many2many_tags" />
                            <field name="document_url"
                                placeholder="Paste Google Drive, Dropbox, or OneDrive link here" />
                            <field name="signature" widget="signature"
                                style="width: 200px; height: 70px; max-height: 100px; overflow: hidden; border: 2px solid #d3d3d3;
border-radius: 5px;" />
                        </tree>

                        <form string="Document">


                            <field name="attachment_ids" widget="many2many_binary"
                                options="{'accepted_file_extensions': 'image/*,.pdf,.doc,.docx,.xls,.xlsx'}" />


                            <field name="expiry_date" required="1" />
                            <field name="email" />
                            <field name="tags" widget="many2many_tags" />
                            <field name="document_url"
                                placeholder="Paste Valid Google Drive, Dropbox, or OneDrive link here" />
                            <field name="category_id" string="Category" />
                            <field name="signature" widget="signature"
                                style="width: 200px; height: 70px; max-height: 100px; overflow: hidden; border: 2px solid #d3d3d3;
border-radius: 5px;" />
                        

                            <div class="oe_chatter">
                                <field name="message_ids" widget="mail_thread" />
                            </div>
                        </form>
                    </field>
                </page>
            </notebook>
        </field> -->
<!-- </record> -->
<!-- Inherit ir.attachment form view to add preview -->
<!-- <record id="view_attachment_form_inherit" model="ir.ui.view">
        <field name="name">ir.attachment.form.inherit</field>
        <field name="model">ir.attachment</field>
        <field name="inherit_id" ref="base.view_attachment_form" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="after">
                <field name="document_type" />
            </xpath>
            <xpath expr="//group[@name='general_information']" position="inside">
                <div t-if="document_type in ['pdf', 'image']" class="mt-4">
                    <div t-if="document_type == 'pdf'">
                        <iframe t-att-src="'/web/content/' + id"
                            width="100%"
                            height="500px"
                            style="border: 1px solid #ddd;" />
                    </div>
                    <div t-elif="document_type == 'image'">
                        <img t-att-src="'/web/content/' + id"
                            style="max-width: 100%; max-height: 300px; border: 1px solid #ddd;" />
                    </div>
                </div>
            </xpath>
        </field>
    </record> -->
<!-- </odoo> -->


<!-- <!DOCTYPE odoo [
    <!ENTITY embedded "entity-value">
]>
<odoo>
    <record id="view_res_partner_form_inherit_document" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.document</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="Documents">
                    <field name="document_ids" context="{'default_partner_id': active_id}">
                        <tree>
                            <field name="name" />
                            <field name="expiry_date" style="width: 100px;" />
                            <field name="email" />
                            <field name="category_id" string="Category" />
                            <field name="tags" widget="many2many_tags" />
                            <field name="document_url"
                                placeholder="Paste Google Drive, Dropbox, or OneDrive link here" />
                            <field name="signature"
                                widget="signature"
                                style="width: 200px; height: 70px; max-height: 100px; overflow: hidden; border: 2px solid #d3d3d3;
border-radius: 5px;" />
                        </tree>

                        <form string="Document">
                            <group>
                                <field name="name" />
                                <field name="attachment" />
                                 <field name="attachment_ids"
                                    widget="pdf_viewer"
                                    options="{'preview': true, 'accepted_file_extensions':
'.pdf,.jpg,.jpeg,.png,.gif,.doc,.docx,.xls,.xlsx'}" /> 

                         
                                <field name="expiry_date" required="1" />
                                <field name="email" />
                                <field name="tags" widget="many2many_tags" />
                                <field name="document_url"
                                    placeholder="Paste Valid Google Drive, Dropbox, or OneDrive link here" />
                                <field name="category_id" string="Category" />
                                <field name="signature"
                                    widget="signature"
                                    style="width: 200px; height: 70px; max-height: 100px; overflow: hidden; border: 2px solid #d3d3d3;
border-radius: 5px;" />
                            </group>

                            
                            <div class="oe_chatter">
                                <field name="message_ids" widget="mail_thread" />
                            </div>
                        </form>
                    </field>
                </page>
            </notebook>
        </field>
    </record>
</odoo> -->
