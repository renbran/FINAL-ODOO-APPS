<t t-name="account.report_invoice_document">
    <t t-set="o" t-value="o.with_context(lang=lang)"/>
    <t t-set="format_uk_date" t-value="lambda d: d.strftime('%d/%m/%Y') if d else ''"/>
    <html>
        <head>
            <meta charset="utf-8"/>
            <title>Tax Invoice</title>
            <style>
                body { font-family: Arial; line-height: 1.4; color: #333; }
                table { width: 100%; border-collapse: collapse; }
                th { background-color: #800020; color: white; padding: 8px; text-align: left; }
                td { padding: 8px; border: 1px solid #ddd; }
                .text-right { text-align: right; }
                .text-center { text-align: center; }
                .total-row { background-color: #800020; color: white; font-weight: bold; }
                .section-title { font-weight: bold; margin: 15px 0 5px 0; }
                .payment-table { width: 100%; margin-top: 10px; }
                .payment-header { background-color: #800020; color: white; padding: 8px; }
                .footer-note { text-align: center; margin-top: 30px; font-style: italic; color: #555; }
            </style>
        </head>
        <body>
            <!-- Company and Partner Details -->
            <table>
                <tr>
                    <td style="width: 50%;">
                        <strong>COMPANY DETAILS</strong><br/>
                        <t t-out="o.company_id.name"/><br/>
                        <t t-out="o.company_id.street"/><br/>
                        <t t-out="o.company_id.city"/> 
                        <t t-if="o.company_id.zip" t-out="o.company_id.zip"/><br/>
                        <t t-out="o.company_id.country_id.name"/><br/>
                        VAT: <t t-out="o.company_id.vat or ''"/>
                    </td>
                    <td style="width: 50%; text-align: right;">
                        <strong>VENDOR DETAILS</strong><br/>
                        <t t-out="o.partner_id.name"/><br/>
                        <t t-out="o.partner_id.street"/><br/>
                        <t t-out="o.partner_id.city"/><br/>
                        <t t-out="o.partner_id.country_id.name"/><br/>
                        VAT: <t t-out="o.partner_id.vat or ''"/>
                    </td>
                </tr>
            </table>

            <!-- Invoice Header -->
            <div style="text-align: center; margin: 15px 0;">
                <h2>TAX INVOICE <t t-out="o.name or ''"/></h2>
            </div>

            <!-- Dates -->
            <table>
                <tr>
                    <td><strong>Invoice Date:</strong> <t t-out="format_uk_date(o.invoice_date)"/></td>
                    <td style="text-align: center;"><strong>Due Date:</strong> <t t-out="format_uk_date(o.invoice_date_due)"/></td>
                    <td style="text-align: right;"><strong>Booking Date:</strong> <t t-out="format_uk_date(o.booking_date)"/></td>
                </tr>
            </table>

            <table style="margin: 15px 0;">
                <tr>
                    <th>BUYER</th>
                    <th>PROJECT</th>
                    <th>UNIT</th>
                    <th class="text-right">COMMISSION RATE</th>
                    <th class="text-right">UNIT PRICE</th>
                    <th class="text-center">VAT</th>
                    <th class="text-right">VAT AMOUNT</th>
                    <th class="text-right">AMOUNT</th>
                </tr>
                <tr>
                    <td><t t-out="o.buyer_id.name or ''"/></td>
                    <td><t t-out="o.project_id.name or ''"/></td>
                    <td><t t-out="o.unit_id.name or ''"/></td>
                    <td class="text-right">
                        <t t-if="o.invoice_line_ids">
                            <span t-esc="o.invoice_line_ids[0].quantity * 100" t-options="{'widget': 'float', 'precision': 2}"/>%
                        </t>
                        <t t-else="">0%</t>
                    </td>
                    <td class="text-right">
                        <span t-field="o.invoice_line_ids[0].price_unit" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" t-if="o.invoice_line_ids"/>
                        <t t-else=""></t>
                    </td>
                    <td class="text-center"></td>
                    <td class="text-right"><span t-field="o.amount_tax" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></td>
                    <td class="text-right"><span t-field="o.amount_total" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></td>
                </tr>
            </table>

            <!-- Totals -->
            <table style="width: 40%; float: right;">
                <tr>
                    <td>Untaxed Amount</td>
                    <td class="text-right"><span t-field="o.amount_untaxed" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></td>
                </tr>
                <tr>
                    <td></td>
                    <td class="text-right"><span t-field="o.amount_tax" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></td>
                </tr>
                <tr class="total-row">
                    <td><strong>Total</strong></td>
                    <td class="text-right"><strong><span t-field="o.amount_total" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></strong></td>
                </tr>
            </table>
            <div style="clear: both;"/>

            <!-- Amount in Words -->
            <div style="margin: 10px 0;">
                <strong>Amount in Words (Total):</strong>
                <t t-out="o.amount_total_words or ''"/>
            </div>

            <!-- Payment Instructions -->
            <div style="margin-top: 20px;">
                <h4>Payment Instructions</h4>
                <p>Please pay to this Account Details in Cheque or Bank Transfer</p>
                <table style="width: 100%;">
                    <tr>
                        <td style="width: 30%;"><strong>Bank Name</strong></td>
                        <td>ABU DHABI COMMERCIAL BANK (ADCB)</td>
                    </tr>
                    <tr>
                        <td><strong>Account Name</strong></td>
                        <td>OSUS REAL ESTATE BROKERAGE LLC</td>
                    </tr>
                    <tr>
                        <td><strong>Account No.</strong></td>
                        <td>14041417820001 - AED</td>
                    </tr>
                    <tr>
                        <td><strong>IBAN</strong></td>
                        <td>AE35003001404141782000</td>
                    </tr>
                    <tr>
                        <td><strong>Branch</strong></td>
                        <td>Business Bay</td>
                    </tr>
                </table>
                <p style="font-style: italic;">Please include your reference number when making the payment</p>
            </div>

            <div style="text-align: center; margin-top: 30px; font-style: italic;">
                This is a computer generated document. No signature or stamp required.
            </div>
        </body>
    </html>
</t>